<!DOCTYPE html>
<html lang="ja">
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
  <meta charset="UTF-8">
  <title>活動予定 | 数学研究部</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 40px;
      background-color: #fdfdfd;
      color: #111;
    }
    h1 {
      color: #222;
    }
    table {
      border-collapse: collapse;
      width: 80%;
      margin-top: 20px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    a {
      color: #0066cc;
      text-decoration: none;
    }
    a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <!-- ナビゲーションバー -->
<style>
  nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: #111;
    color: white;
    padding: 12px 24px;
    z-index: 999;
    font-size: 18px;
    display: flex;
    gap: 20px;
  }
  nav a {
    color: white;
    text-decoration: none;
  }
  nav a:hover {
    text-decoration: underline;
  }
  body {
    padding-top: 60px;
  }
</style>

<nav>
  <a href="index.html">Home</a>
  <a href="schedule.html">Schedule</a>
  <a href="contact.html">Contact</a>
  <a href="qa.html">Q&A</a>
</nav>
  <h1>数学研究部の活動予定</h1>
  <p><a href="index.html">← トップページへ戻る</a></p>

  <table>
    <tr>
      <th>日付</th>
      <th>内容</th>
    </tr>
    <tr>
      <td>2025年11月までに</td>
      <td>Trias祭の問題作製</td>
    </tr>
    <tr>
      <td>2025年11月</td>
      <td>Trias Festival</td>
    </tr>
  </table>
  <!-- 幾何学模様用canvas -->
<script>
  let circles = [];
  let walkers = [];

  function setup() {
    let cnv = createCanvas(windowWidth, windowHeight);
    cnv.position(0, 0);
    cnv.style('z-index', '-1');
    angleMode(DEGREES);
    noStroke();

    // 通常の円
    for (let i = 0; i < 3; i++) {
      let cx = random(150, width - 150);
      let cy = random(150, height - 150);
      let r = random(60, 100);
      circles.push({ x: cx, y: cy, r, angle: random(360), speed: random(0.5, 1.2) });
    }

    // 正多角形
    for (let i = 0; i < 3; i++) {
      walkers.push(new PolygonWalker(random(150, width - 150), random(150, height - 150), 5, 80, 2));
    }

    // 星型
    for (let i = 0; i < 2; i++) {
      walkers.push(new StarWalker(random(150, width - 150), random(150, height - 150), 5, 50, 90, 2));
    }

    // ランダム閉曲線
    for (let i = 0; i < 2; i++) {
      walkers.push(new CurveWalker(random(150, width - 150), random(150, height - 150), 6));
    }
  }

  function draw() {
    background(255);

    // 円と点
    fill(0, 20);
    noStroke();
    for (let c of circles) {
      ellipse(c.x, c.y, c.r * 2);
    }

    fill(0);
    for (let c of circles) {
      let bx = c.x + cos(c.angle) * c.r;
      let by = c.y + sin(c.angle) * c.r;
      ellipse(bx, by, 10, 10);
      c.angle += c.speed;
    }

    // 多角形・星・曲線
    for (let w of walkers) {
      w.update();
      w.draw();
    }
  }

  function windowResized() {
    resizeCanvas(windowWidth, windowHeight);
  }

  class PolygonWalker {
    constructor(x, y, sides, r, speed) {
      this.points = [];
      this.t = 0;
      this.speed = speed;
      for (let i = 0; i < sides; i++) {
        let angle = 360 / sides * i - 90;
        let px = x + cos(angle) * r;
        let py = y + sin(angle) * r;
        this.points.push(createVector(px, py));
      }
      this.currentEdge = 0;
    }

    update() {
      this.t += this.speed * 0.01;
      if (this.t >= 1) {
        this.t = 0;
        this.currentEdge = (this.currentEdge + 1) % this.points.length;
      }
    }

    draw() {
      stroke(0, 60);
      noFill();
      beginShape();
      for (let pt of this.points) vertex(pt.x, pt.y);
      endShape(CLOSE);

      let a = this.points[this.currentEdge];
      let b = this.points[(this.currentEdge + 1) % this.points.length];
      let bx = lerp(a.x, b.x, this.t);
      let by = lerp(a.y, b.y, this.t);
      fill(0);
      ellipse(bx, by, 10, 10);
    }
  }

  class StarWalker {
    constructor(x, y, points, innerR, outerR, speed) {
      this.points = [];
      this.t = 0;
      this.speed = speed;
      let total = points * 2;
      for (let i = 0; i < total; i++) {
        let angle = 360 / total * i - 90;
        let r = i % 2 === 0 ? outerR : innerR;
        let px = x + cos(angle) * r;
        let py = y + sin(angle) * r;
        this.points.push(createVector(px, py));
      }
      this.currentEdge = 0;
    }

    update() {
      this.t += this.speed * 0.01;
      if (this.t >= 1) {
        this.t = 0;
        this.currentEdge = (this.currentEdge + 1) % this.points.length;
      }
    }

    draw() {
      stroke(0, 60);
      noFill();
      beginShape();
      for (let pt of this.points) vertex(pt.x, pt.y);
      endShape(CLOSE);

      let a = this.points[this.currentEdge];
      let b = this.points[(this.currentEdge + 1) % this.points.length];
      let bx = lerp(a.x, b.x, this.t);
      let by = lerp(a.y, b.y, this.t);
      fill(0);
      ellipse(bx, by, 10, 10);
    }
  }

  class CurveWalker {
    constructor(cx, cy, points) {
      this.path = [];
      this.t = 0;
      this.speed = random(0.003, 0.01);
      for (let i = 0; i < points; i++) {
        let angle = 360 / points * i;
        let r = random(40, 80);
        let x = cx + cos(angle) * r;
        let y = cy + sin(angle) * r;
        this.path.push(createVector(x, y));
      }
      this.path.push(this.path[0]); // 閉曲線
    }

    update() {
      this.t += this.speed;
      if (this.t >= this.path.length - 1) this.t = 0;
    }

    draw() {
      stroke(0, 40);
      noFill();
      beginShape();
      for (let pt of this.path) vertex(pt.x, pt.y);
      endShape(CLOSE);

      let i = floor(this.t);
      let a = this.path[i];
      let b = this.path[i + 1];
      let f = this.t - i;
      let x = lerp(a.x, b.x, f);
      let y = lerp(a.y, b.y, f);

      fill(0);
      ellipse(x, y, 10, 10);
    }
  }
</script>
</body>
</html>
