<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>数学研究部 | Math Club</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: white;
      font-family: sans-serif;
      color: black;
    }
    #content {
      position: absolute;
      z-index: 2;
      top: 20px;
      left: 20px;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <div id="content">
    <h1>数学研究部</h1>
    <p>Welcome to the Math Club!</p>
  </div>

  <!-- p5.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
  <script>
    let equations = [
      '∂²u/∂t² = c² ∂²u/∂x²',
      'e^{iπ} + 1 = 0',
      'f(x) = ∫_{-∞}^{∞} F(ξ)e^{2πiξx} dξ',
      '∇·E = ρ/ε₀',
      'lim_{n→∞} (1 + 1/n)^n = e',
      'iħ ∂ψ/∂t = Ĥψ'
    ];

    let eqs = [];

    function setup() {
      createCanvas(windowWidth, windowHeight);
      textAlign(CENTER, CENTER);
      textSize(28);
      frameRate(60);
    }

    function draw() {
      background(255, 255, 255, 20);

      // 幾何学模様（ゆっくり）
      stroke(0, 50);
      noFill();
      if (frameCount % 60 === 0) {
        let x = random(width);
        let y = random(height);
        let r = random(40, 100);
        let n = int(random(3, 8));
        beginShape();
        for (let a = 0; a < TWO_PI; a += TWO_PI / n) {
          let sx = x + cos(a) * r;
          let sy = y + sin(a) * r;
          vertex(sx, sy);
        }
        endShape(CLOSE);
      }

      // 数式の表示とフェード
      for (let i = eqs.length - 1; i >= 0; i--) {
        let e = eqs[i];
        fill(0, e.alpha);
        text(e.text, e.x, e.y);
        e.alpha -= 0.5;
        if (e.alpha <= 0) eqs.splice(i, 1);
      }

      // 一定間隔で新しい数式を追加
      if (frameCount % 180 === 0) {
        let newEq = {
          text: random(equations),
          x: random(width * 0.2, width * 0.8),
          y: random(height * 0.2, height * 0.8),
          alpha: 255
        };
        eqs.push(newEq);
      }
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
    }
  </script>
</body>
</html>
